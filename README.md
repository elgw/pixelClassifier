# A pixel classifier

Inspired by Ilastic, this repo contains code to generate image features and then
train and classify a 2D image in matlab. It acutally moves a little forward and
exports the classifier as C-code and compiles it into a mex file. The c-based
classifier is about 50x faster (single core) than the one built in to MATLAB.

Desirable features:
 - Parallelized classifier
 - A suggested way to create the masks (why not gimp?)
 - [x] Translate classifier directly to c-code?

## Implementation notes:
 - Uses the class `TreeBagger` in MATLAB for classification. There is also `templateTree`/`fitensebmle`, see [this comparison](https://se.mathworks.com/help/stats/ensemble-algorithms.html#bsxabwd).


## Files:
 - `px_interactive` -- interactively mark two classes in an image and then classify it.
 - `px_gen_classifier` -- generate a classifier from an image and a label image.
 - `px_classify_image` -- classify an image (by name) using a classifier/model generated by `px_gen_classifier`. This function processes the image in tiles (with some overlap) so that it doesn't consume too much memory.
 - `px_classify_region` -- classify a image matrix. Used by px_classify_image.
 - `mode_to_c.m` -- convert a TreeBagger model into a compiled mex function `cMdl`

 - `createComposite` -- merge channels and segmentation result.
